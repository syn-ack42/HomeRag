<!DOCTYPE html>
<html>
    <head>
        <title>CADIS Knowledge Base : OnPrem System Integration</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">CADIS Knowledge Base</a></span>
                            </li>
                                                    <li>
                                <span><a href="CADIS-Knowledge-Base_1262748272.html">CADIS Knowledge Base</a></span>
                            </li>
                                                    <li>
                                <span><a href="Technical-Resources_1262748336.html">Technical Resources</a></span>
                            </li>
                                                    <li>
                                <span><a href="AWS-SaaS_1263009805.html">AWS SaaS</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            CADIS Knowledge Base : OnPrem System Integration
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Julian Beyer</span> on May 22, 2025
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1763045579212 {padding: 0px;}
div.rbtoc1763045579212 ul {list-style: none;margin-left: 0px;}
div.rbtoc1763045579212 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1763045579212'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#OnPremSystemIntegration-CadisRESTAPIService'>Cadis REST API Service</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1.1</span> <a href='#OnPremSystemIntegration-StructureofRequests'>Structure of Requests</a></li>
<li><span class='TOCOutline'>1.2</span> <a href='#OnPremSystemIntegration-ResponsesandHTTPStatuscodes'>Responses and HTTP Status codes</a></li>
</ul>
</li>
<li><span class='TOCOutline'>2</span> <a href='#OnPremSystemIntegration-ConfiguringESBExports'>Configuring ESB Exports</a></li>
<li><span class='TOCOutline'>3</span> <a href='#OnPremSystemIntegration-ConfiguringESBImports'>Configuring ESB Imports</a></li>
</ul>
</div><h1 id="OnPremSystemIntegration-CadisRESTAPIService">Cadis REST API Service</h1><p>Data is exchanged with the customer’s host system via XML-encoded data (ESB message type), which from release R4.18 can be exchanged via the encrypted data exchange via the REST interface. WebSocket communication has been discontinued.</p><p>Incoming messages from the host system to cadisSERVER are called ESB Imports. Outgoing messages in the direction to the host system are called ESB Exports.</p><p>For imports, the host system requires the URL to Cadis and a security API-token (JWT). The API token is made available to the customer and can also be revoked at any time in the event of a compromise. The access rights for the API-token are assigned on a fine-grained basis.</p><p>Exports are configured by Cadis Info Servlet, whereby the recipient URL of the host system and the respective message type are required. An API-token can be used optionally.</p><h2 id="OnPremSystemIntegration-StructureofRequests">Structure of Requests</h2><p>POST requests are processed synchronously. cadisSERVER only responds when the message was processed completely. The HTTPS termination is either done by load balancer or by the Nginx Reverse Proxy.</p><p>ESB reads the following request headers:</p><div class="table-wrap"><table data-table-width="1800" data-layout="align-start" data-local-id="e2757d50-62be-48b7-9596-039443a8efd9" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>HTTP request method</strong></p></td><td class="confluenceTd"><p>POST</p></td></tr><tr><td class="confluenceTd"><p><strong>HTTP URL</strong></p></td><td class="confluenceTd"><p>https://&lt;host&gt;/esb-rest/dispatch/&lt;Message-Type&gt;</p><p>Known message types can be obtained from /info/view/esbrouting (of the target system).</p></td></tr><tr><td class="confluenceTd"><p><strong>HTTP header fields</strong></p></td><td class="confluenceTd"><p>Mandatory:</p><ul><li><p>Authorization Bearer: &lt;API-TOKEN&gt;</p></li><li><p>Content-Type: application/octet-stream</p></li><li><p>X-CADIS-ESB-&lt;whatever&gt;: Add property &lt;whatever&gt; to the internal ESB Message structure.</p></li></ul><p>Optional:</p><ul><li><p>X-CADIS-ORGUNIT: &lt;VALUE&gt;</p></li></ul><p> for monitoring/logging only (the branch-/depot-/site-ID for which the exchanged data applies)</p><ul><li><p> X-CADIS-TRACKINGID: &lt;VALUE&gt;</p></li></ul><p> for monitoring/logging only (for the sender, this can be a file name or a message counter), helpful for tracking events across system boundaries, max 128 chars  </p></td></tr><tr><td class="confluenceTd"><p> </p><p><strong>HTTP message body</strong></p><p> </p></td><td class="confluenceTd"><p> </p><p>XML payload conforming to the cadis XSD of the corresponding Message-Type</p><p> </p></td></tr></tbody></table></div><h2 id="OnPremSystemIntegration-ResponsesandHTTPStatuscodes">Responses and HTTP Status codes</h2><p>The cadis error code is part of the response header: X-CADIS-ERROR-CODE and the error message is returned as text/plain.</p><div class="table-wrap"><table data-table-width="1800" data-layout="center" data-local-id="c0a71fa7-ca55-472a-bc38-b923463a3143" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Status Code</strong></p></td><td class="confluenceTd"><p><strong>Message</strong></p></td><td class="confluenceTd"><p><strong>Description</strong></p></td></tr><tr><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>OK</p></td><td class="confluenceTd"><p>The request was successful.</p></td></tr><tr><td class="confluenceTd"><p>204</p></td><td class="confluenceTd"><p>No content</p></td><td class="confluenceTd"><p>The request was successful, but no content is returned.</p></td></tr><tr><td class="confluenceTd"><p>400</p></td><td class="confluenceTd"><p>Bad request</p></td><td class="confluenceTd"><p>Empty content or bad content based on: CADIS-1700: SERVER_DATA_VALIDATION CADIS-1711: SERVER_DATA_UNKNOWN_ORGUNIT CADIS-1730: SERVER_DATA_INCORRECT_KEY</p></td></tr><tr><td class="confluenceTd"><p>401</p></td><td class="confluenceTd"><p>Unauthorized</p></td><td class="confluenceTd"><p>CADIS-1500 to CADIS-1599, not CADIS-1510</p></td></tr><tr><td class="confluenceTd"><p>403</p></td><td class="confluenceTd"><p>Forbidden</p></td><td class="confluenceTd"><p>Only at CADIS-1510: SERVER_FORBIDDEN, means access denied.</p></td></tr><tr><td class="confluenceTd"><p>404</p></td><td class="confluenceTd"><p>Not Found</p></td><td class="confluenceTd"><p>The resource was not found.</p></td></tr><tr><td class="confluenceTd"><p>500</p></td><td class="confluenceTd"><p>Internal Server Error</p></td><td class="confluenceTd"><p>All business exception will be interpret as an internal server error, but sometimes there are only not correct data send by client. This leads to status code 400.</p></td></tr><tr><td class="confluenceTd"><p>503</p></td><td class="confluenceTd"><p>Service Unavailable</p></td><td class="confluenceTd"><p>A Cadis infrastructure problem: CADIS-1200 to CADIS-1299</p></td></tr></tbody></table></div><p>Outgoing messages (ESB exports) with infrastructure errors (50x) are resent after 300 seconds. After 10 repetitions (10 x 300 seconds), the message is moved into the dead letter queue. The DLQ saves message for 30 days (it is configurable) per default. After this time the message is deleted from DLQ automatically, when it wasn’t moved back to processing link manually. Messages can be returned to the processing queue by manual action.</p><h1 id="OnPremSystemIntegration-ConfiguringESBExports">Configuring ESB Exports</h1><p>The parameters can be set globally or separately for each REST interface. The graphical user interface for the global parameter is as follows:</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/05/image-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/05/image-1.png" loading="lazy"></span><p>Here a detailed description of the global parameter settings.</p><div class="table-wrap"><table data-table-width="1800" data-layout="center" data-local-id="ea0cb78b-bcbf-436a-9c3c-7038cd8c958e" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Parameter</strong></p></td><td class="confluenceTd"><p><strong>Description</strong></p></td></tr><tr><td class="confluenceTd"><p>Http socket timeout ms</p></td><td class="confluenceTd"><p>Socket read timeout</p></td></tr><tr><td class="confluenceTd"><p>Http connect timeout ms</p></td><td class="confluenceTd"><p>Connect timeout</p></td></tr><tr><td class="confluenceTd"><p>Https cert trust level</p></td><td class="confluenceTd"><p> </p><p>Controls how sensitive the ESB responds to expired/self signed certs:</p><ul><li><p>CA: default secure mode, all cert checks apply</p></li><li><p>SELFSIGNED: accept self-signed certs</p></li><li><p>ALL: accept all certs no matter how borked</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Default REST URL</p></td><td class="confluenceTd"><p>Default URL to use for all outbound REST destinations (unless overwritten there)</p></td></tr><tr><td class="confluenceTd"><p>Default REST token</p></td><td class="confluenceTd"><p>Default JWT to use for all outbound REST destinations (unless overwritten there)</p><p>Can (should) be encrypted:// or a credentials:// reference or plain-text</p></td></tr><tr><td class="confluenceTd"><p>Default REST credentials (basic auth)</p></td><td class="confluenceTd"><p>Default Basic Auth credentials (credential store reference)</p></td></tr></tbody></table></div><p><strong>Configuration of each REST API</strong></p><p>The REST interface is configured per message type. Via the menu entry of the cadis info servlet:</p><ol start="1"><li><p>Join into InfoServlet</p></li><li><p>Select: ESB → Config: Routing → ALL</p></li><li><p>Select the message type to be changed</p></li><li><p>Click at the destination entry to edit</p></li><li><p>REST parameters can be entered or changed:</p><ol start="1"><li><p>REST URL: URL is mandatory</p></li><li><p>Destination message type is mandatory</p></li><li><p>JSON Web Token: API-token is optional</p></li><li><p>and some other optional parameters</p></li></ol></li></ol><p>The REST URl is the destination address from the host system. This can also be set in the global parameters. The destination message type is different for each destination. The JSON web token (API token) is optional and can also be parameterised globally.</p><p>The Info Servlet screen for editing a destination looks like this:</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/05/image-2.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/05/image-2.png" loading="lazy"></span><h1 id="OnPremSystemIntegration-ConfiguringESBImports">Configuring ESB Imports</h1><p>Nothing needs to be done for imports. The API token must be present in the request header.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 13, 2025 09:52</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
