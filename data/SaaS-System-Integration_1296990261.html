<!DOCTYPE html>
<html>
    <head>
        <title>CADIS Knowledge Base : SaaS System Integration</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">CADIS Knowledge Base</a></span>
                            </li>
                                                    <li>
                                <span><a href="CADIS-Knowledge-Base_1262748272.html">CADIS Knowledge Base</a></span>
                            </li>
                                                    <li>
                                <span><a href="Technical-Resources_1262748336.html">Technical Resources</a></span>
                            </li>
                                                    <li>
                                <span><a href="AWS-SaaS_1263009805.html">AWS SaaS</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            CADIS Knowledge Base : SaaS System Integration
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Julian Beyer</span> on May 22, 2025
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1763045579181 {padding: 0px;}
div.rbtoc1763045579181 ul {list-style: none;margin-left: 0px;}
div.rbtoc1763045579181 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1763045579181'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#SaaSSystemIntegration-Introduction'>Introduction</a></li>
<li><span class='TOCOutline'>2</span> <a href='#SaaSSystemIntegration-SaaSArchitecture'>SaaS Architecture</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>2.1</span> <a href='#SaaSSystemIntegration-AWSRegionsandAvailabilityZones'>AWS Regions and Availability Zones</a></li>
<li><span class='TOCOutline'>2.2</span> <a href='#SaaSSystemIntegration-Mag-1:NATGatewayandElasticIPs'>Mag-1: NAT Gateway and Elastic IPs</a></li>
<li><span class='TOCOutline'>2.3</span> <a href='#SaaSSystemIntegration-Mag-2:SimpleStorageService'>Mag-2: Simple Storage Service</a></li>
<li><span class='TOCOutline'>2.4</span> <a href='#SaaSSystemIntegration-Mag-3:ReverseProxy'>Mag-3: Reverse Proxy</a></li>
<li><span class='TOCOutline'>2.5</span> <a href='#SaaSSystemIntegration-Mag-4:FirebaseCloudMessaging'>Mag-4: Firebase Cloud Messaging</a></li>
<li><span class='TOCOutline'>2.6</span> <a href='#SaaSSystemIntegration-Mag-5:ElasticFileSystem'>Mag-5: Elastic File System</a></li>
<li><span class='TOCOutline'>2.7</span> <a href='#SaaSSystemIntegration-Mag-6:CadisDIS'>Mag-6: Cadis DIS</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3</span> <a href='#SaaSSystemIntegration-CustomerInterfaces'>Customer Interfaces</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1</span> <a href='#SaaSSystemIntegration-cadisAPP'>cadisAPP</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.1</span> <a href='#SaaSSystemIntegration-Commissioning'>Commissioning</a></li>
<li><span class='TOCOutline'>3.1.2</span> <a href='#SaaSSystemIntegration-Configuration'>Configuration</a></li>
<li><span class='TOCOutline'>3.1.3</span> <a href='#SaaSSystemIntegration-Authentication'>Authentication</a></li>
<li><span class='TOCOutline'>3.1.4</span> <a href='#SaaSSystemIntegration-Internalusermanagement'>Internal user management</a></li>
<li><span class='TOCOutline'>3.1.5</span> <a href='#SaaSSystemIntegration-IdentityProvider'>Identity Provider</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.2</span> <a href='#SaaSSystemIntegration-cadisCONTROL'>cadisCONTROL</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.2.1</span> <a href='#SaaSSystemIntegration-Download'>Download</a></li>
<li><span class='TOCOutline'>3.2.2</span> <a href='#SaaSSystemIntegration-Installation'>Installation</a></li>
<li><span class='TOCOutline'>3.2.3</span> <a href='#SaaSSystemIntegration-LaunchandAuthentication'>Launch and Authentication</a></li>
<li><span class='TOCOutline'>3.2.4</span> <a href='#SaaSSystemIntegration-Uninstall'>Uninstall</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.3</span> <a href='#SaaSSystemIntegration-cadisSTUDIO'>cadisSTUDIO</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.3.1</span> <a href='#SaaSSystemIntegration-LaunchandAuthentication.1'>Launch and Authentication</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.4</span> <a href='#SaaSSystemIntegration-RESTAPIdataexchange'>REST API data exchange</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.4.1</span> <a href='#SaaSSystemIntegration-RESTAPIService'>REST API Service</a></li>
<li><span class='TOCOutline'>3.4.2</span> <a href='#SaaSSystemIntegration-HTTPSStatuscodes'>HTTPS Status codes</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.5</span> <a href='#SaaSSystemIntegration-FileTransferoverSFTP'>File Transfer over SFTP</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.5.1</span> <a href='#SaaSSystemIntegration-Keymanagement'>Key management</a></li>
<li><span class='TOCOutline'>3.5.2</span> <a href='#SaaSSystemIntegration-ConnecttoSFTPservice'>Connect to SFTP service</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.6</span> <a href='#SaaSSystemIntegration-OpenIDconnectoverAzureAD'>OpenID connect over Azure AD</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.6.1</span> <a href='#SaaSSystemIntegration-Registeranapplication'>Register an application</a></li>
<li><span class='TOCOutline'>3.6.2</span> <a href='#SaaSSystemIntegration-Configuration.1'>Configuration</a></li>
<li><span class='TOCOutline'>3.6.3</span> <a href='#SaaSSystemIntegration-ClientSecret'>Client Secret</a></li>
<li><span class='TOCOutline'>3.6.4</span> <a href='#SaaSSystemIntegration-Createrole'>Create role</a></li>
<li><span class='TOCOutline'>3.6.5</span> <a href='#SaaSSystemIntegration-Adduserwithroletotheapplication'>Add user with role to the application</a></li>
</ul>
</li>
</ul>
</li>
<li><span class='TOCOutline'>4</span> <a href='#SaaSSystemIntegration-Appendix'>Appendix</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>4.1</span> <a href='#SaaSSystemIntegration-cadisMessageTypes'>cadis Message Types</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>4.1.1</span> <a href='#SaaSSystemIntegration-MessageImport'>Message Import</a></li>
<li><span class='TOCOutline'>4.1.2</span> <a href='#SaaSSystemIntegration-MessageExport'>Message Export</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1 id="SaaSSystemIntegration-Introduction">Introduction</h1><p>The <strong>cadis</strong> system consists of cadisSERVER and some rich client components like cadisAPP, cadisCONTROL and cadisSTUDIO.</p><p>The cadisSERVER is the <strong>cadis</strong> business application or <strong>cadis</strong> business application cluster with technical interfaces to a database, a host system, a user directory service and a provider for geographical data (PTV xServer). cadisSERVER can be operated in a cluster environment behind a load balancer.</p><p>On-premise refers to hosting on the customer’s premises, while SaaS stands for <strong>S</strong>oftware <strong>a</strong>s <strong>a</strong> <strong>S</strong>ervice, whereby the data is hosted by the software provider. SaaS, in contrast, is based on the premise of a subscription model. You rent the software and all the data is in the cloud.</p><p>The difference between SaaS and On-Premise is now which interfaces and services are available in the respective environment and which services are managed by customers or by CADIS GmbH directly.</p><p>This document is intended for all SaaS customers. Technical details, for example reverse-proxy configuration settings of a on-prem installation are described in a separate document.</p><p>Before the interfaces and their details are explained, the overall architecture of the SaaS implementation within the Amazon Cloud is presented (see chapter 2). To understand the CADIS concept, it is important to know the basic terms and features of the specific SaaS architecture. Particular attention is paid to the security and redundancy concept.</p><p>All aspects that are of interest to the customer are described here.</p><h1 id="SaaSSystemIntegration-SaaSArchitecture">SaaS Architecture</h1><p>CADIS GmbH provides customers with a cloud-based and therefore scalable and service-orientated solution using AWS (Amazon Web Services). For the customer, this means that the entire cadis application can be flexibly adapted to requirements without the need for time-consuming and cost-intensive conversions in an on-premise data centre. Solutions in a high-availability cluster operation can also be realised immediately. Thanks to the service-oriented architecture (SOA) of AWS, it is possible to adapt services such as backup, monitoring, patch management, log file management, S3 bucket access, secure file transfer (SFTP), etc. to the customer’s needs at any time without having to make any changes to the cadis software or the local data centre.</p><p>The following overview shows the architecture of the cadis application and its components within AWS. It is a functional representation in which the technical details, such as security aspects (public and private subnets) and redundancies (availability zones and Multi AZ RDS) are not mentioned. The overview aims to explain the scope of the cadis components, their services and the logical connections. Some essential aspects that need to be explained in more detail later are marked in the overview with a magnifying glass (e.g. Mag-1 for the NAT gateway).</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-1.png" loading="lazy"></span><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="72f92b6c-800a-4449-87ff-d00a46c0ebd2" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>Image details</p></td><td class="confluenceTd"><p>Description</p></td><td class="confluenceTd"><p>Chapter</p></td></tr><tr><td class="confluenceTd"><p>Mag-1</p></td><td class="confluenceTd"><p>NAT Gateways and Elastic IPs</p></td><td class="confluenceTd"><p>2.2</p></td></tr><tr><td class="confluenceTd"><p>Mag-2</p></td><td class="confluenceTd"><p>S3 buckets</p></td><td class="confluenceTd"><p>2.3</p></td></tr><tr><td class="confluenceTd"><p>Mag-3</p></td><td class="confluenceTd"><p>Client access through proxy server</p></td><td class="confluenceTd"><p>2.4</p></td></tr><tr><td class="confluenceTd"><p>Mag-4</p></td><td class="confluenceTd"><p>Communication between cadisAPP and cadisSERVER</p></td><td class="confluenceTd"><p>2.5</p></td></tr><tr><td class="confluenceTd"><p>Mag-5</p></td><td class="confluenceTd"><p>EFS</p></td><td class="confluenceTd"><p>2.6</p></td></tr><tr><td class="confluenceTd"><p>Mag-6</p></td><td class="confluenceTd"><p>Cadis DIS (optional)</p></td><td class="confluenceTd"><p>2.7</p></td></tr></tbody></table></div><p> </p><p><strong>Multi-Tenant System</strong></p><p>Multi-tenant systems are offered for small and medium-sized customers. The customer and master data are stored in a separate database user for each client and each client has its own public address (URL) and its own access. Release maintenance of the clients is carried out across all clients in a single step. This means that customers of a parent company or completely independent customers can be operated cost-effectively on one server and database instance. CADIS offers multi-tenant systems for a maximum of 30 clients and 1000 users.</p><p>The following image also shows that the CADIS functions are identical to those of the non-multi-client system. The client capability is controlled via the tenant ID, as this determines the database user and thus accesses the respective tenant data. The tenant ID acts like a tenant switch.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/06/CADIS-Multi-Tenant-System-Multitenancy.drawio.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/06/CADIS-Multi-Tenant-System-Multitenancy.drawio.png" loading="lazy"></span><h2 id="SaaSSystemIntegration-AWSRegionsandAvailabilityZones">AWS Regions and Availability Zones</h2><p>Each AWS region consists of several independent and physically separate Availability Zones (AZs) within a geographical area. All regions currently have three or more Availability Zones. CADIS GmbH’s SaaS services are hosted in the Frankfurt region (eu-central-1), which has three AZs (eu-central-1a, eu-central-1b, eu-central-1c). The Amazon Virtual Private Cloud (VPC) ensures control over the virtual network environment including all resources. At CADIS GmbH, it comprises the public and private subnets of the AZs within the Frankfurt region.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-2.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-2.png" loading="lazy"></span><h2 id="SaaSSystemIntegration-Mag-1:NATGatewayandElasticIPs">Mag-1: NAT Gateway and Elastic IPs</h2><p>The customer’s host system can only be reached from the cadisSERVER service via a NAT Gateway. NAT gateways routes the data traffic from the private subnet in which the cadis service is running to the public subnet. From the public subnet, the data traffic is routed bi-directionally to the Internet outside the VPC (Virtual Private Cloud). The Internet gateway assigns the private IPv4 address of the public NAT gateway to the Elastic IPv4 address that is assigned to the NAT gateway.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-3.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-3.png" loading="lazy"></span><p>The VPC of CADIS GmbH has three public subnets and therefore three public NAT gateways. Each NAT gateway is assigned a fixed IPv4 address, the so-called Elastic IPv4 address. These addresses are relevant for the customer, as they need this address to configure their firewall or to whitelist their firewall.</p><div class="table-wrap"><table data-layout="default" data-local-id="6f8443dd-767c-43c4-9423-6ffca658025b" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>NAT Gateway</p></td><td class="confluenceTd"><p>Public IPv4 / Elastic IPv4</p></td></tr><tr><td class="confluenceTd"><p>NAT-GW-PUB-A</p></td><td class="confluenceTd"><p>3.127.44.232</p></td></tr><tr><td class="confluenceTd"><p>NAT-GW-PUB-B</p></td><td class="confluenceTd"><p>35.158.182.46</p></td></tr><tr><td class="confluenceTd"><p>NAT-GW-PUB-C</p></td><td class="confluenceTd"><p>35.158.229.53</p></td></tr></tbody></table></div><h2 id="SaaSSystemIntegration-Mag-2:SimpleStorageService">Mag-2: Simple Storage Service</h2><p>The Amazon Simple Storage Service (Amazon S3) is an object storage service in which any amount of data can be stored for any use case. Secure access to this data is guaranteed by finely tuned access control with regard to a customer’s compliance requirements.</p><p>Use cases for Cadis:</p><ul><li><p>Saving images and signatures generated by the cadisAPP.</p></li><li><p>Data exchange with customer host system.</p></li></ul><h2 id="SaaSSystemIntegration-Mag-3:ReverseProxy">Mag-3: Reverse Proxy</h2><p>By default, each cadisSERVER application is shielded with a reverse proxy for security reasons. It is realized by the standard web server Nginx. CADIS provides the web server configuration with a sample configuration. Each application other than <strong>cadis</strong> can be achieved by a separate sub-domain.</p><h2 id="SaaSSystemIntegration-Mag-4:FirebaseCloudMessaging">Mag-4: Firebase Cloud Messaging</h2><p>FCM (Firebase Cloud Messaging) provides a reliable connection between cadisSEREVR and the cadisApp mobile devices to deliver notification. These notifications are used to wakeup devices to synchronize new available data from cadisSERVER.</p><p>The following diagram shows the mechanism in simplified form. The details of how the messages are exchanged via the public and private subnets are not shown.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-4.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-4.png" loading="lazy"></span><h2 id="SaaSSystemIntegration-Mag-5:ElasticFileSystem">Mag-5: Elastic File System</h2><p>The EFS file system serves as a common data source for EC2 (Linux) instances. Cadis uses this file system as a data source for Cadis releases, which are made available to the EC2 instances for product updates. In addition, EFS is used during backups of MariaDB dumps.</p><h2 id="SaaSSystemIntegration-Mag-6:CadisDIS">Mag-6: Cadis DIS</h2><p> </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-center" width="600" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-5.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-5.png" loading="lazy"></span><h1 id="SaaSSystemIntegration-CustomerInterfaces">Customer Interfaces</h1><h2 id="SaaSSystemIntegration-cadisAPP">cadisAPP</h2><p>cadisAPP is the mobile client for mobile workers such as drivers or terminal workers. It runs on most Android devices. The client shall be operated on devices owned by the respective employee (“Bring Your Own Device”, BYOD). From the internet, the communication with cadisSERVER is operated in a protected server network with a firewall and proxy server of the customer.</p><h3 id="SaaSSystemIntegration-Commissioning">Commissioning</h3><p>cadisAPP operates with each public internet SIM cards (Subscriber Identification Module). We highly recommend our customers to use SIM cards with 4G network and a minimum data volume of 500MB. If pictures are taken, the data volume can also be significantly higher.</p><p>For a smooth device staging process, you should take care that your provider delivers SIM cards either free of PIN (Personal Identification Number) or with one and the same PIN. But however, we do not assume any responsibility if the card falls into unauthorized hands.</p><h3 id="SaaSSystemIntegration-Configuration">Configuration</h3><p>cadisAPP establishes an encrypted connection via a publicly accessible URL to a proxy server. The proxy server checks the authentication of the connection and, if necessary, establishes a connection to the respective cadisSERVER.</p><h3 id="SaaSSystemIntegration-Authentication">Authentication</h3><p>Three authentication options are available for the <strong>cadis</strong> client applications cadisAPP, cadisSTUDIO and cadisCONTROL. In addition to the cadis-internal user management, there is the possibility to manage <strong>cadis</strong> users with an active directory server via LDAP protocol as well as an authorization server via the OpenID Connect protocol (layer on top of OAuth2.0 protocol).</p><h3 id="SaaSSystemIntegration-Internalusermanagement">Internal user management</h3><p>The user scans a barcode to pair the mobile device. The barcode contains a pairing token in addition to the target address. cadisAPP sends this token to the proxy server in the pairing request. If this is accepted, the response contains login token, vehicle, and orgunit (depot or branch) as well as optionally the information on whether the user has to authenticate additionally with username and password. Then cadisAPP sends the actual login request to the proxy server.</p><h3 id="SaaSSystemIntegration-IdentityProvider">Identity Provider</h3><p>Another possibility is a <strong>OpenIDConnect </strong>authentication<strong>.</strong> The basic setup of the Azure Active Directory (Azure AD) as an Identity Provider for <strong>cadis</strong> users is described in chapter 3.7.</p><h2 id="SaaSSystemIntegration-cadisCONTROL">cadisCONTROL</h2><p>cadisCONTROL can be used on a local workstation desktop computer with an installed firewall. The firewall must be configured to allow outbound connections on the communication HTTPS port. A port release to 443 must exist. Please ask your IT department to open this port. You do not need to establish a VPN tunnel communication via the Internet.</p><h3 id="SaaSSystemIntegration-Download">Download</h3><p>To download cadisCONTROL enter the following URL into your web browser: <a class="external-link" href="https://customername.cadis.cloud/" rel="nofollow"><u>https://customername.cadis.cloud/</u></a></p><p>Annotation: In some cases, you get the message of an uncommon download of cadis software. The browsers are of the opinion that they must offer additional security features. They check whether a particular software has been downloaded over the Internet often enough. But this will never happen with cadis. This is followed by messages that the software is potentially unsafe because the browser manufacturers do not have enough monitoring data available. With IE it helps (often) to enter the URL of the page as a secure page in the client system. For this you must set the Unblock option (Option: Allow) in the file properties.</p><p>The download is secured so that at least the very first download you have to enter a username as a combination of the OrgUnit and the username. The OrgUnit and the username must be separated by a backslash sign (see screenshot below). When speaking of OrgUnit, depot or branch is meant.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="400" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-8.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-8.png" loading="lazy"></span><h3 id="SaaSSystemIntegration-Installation">Installation</h3><p>The installer of cadisCONTROL is based on an installer builder for Java-based applications, called install4j. It must be downloaded from cadisSERVER application before installation. The executable is installed under “C:\Users\[USERNAME]\cadis Control“.</p><p>The installer checks on every start the version of the application. If the remotely installed version differs from the locally installed version a reinstallation is necessary and will be triggered automatically.</p><p>Execute the installer and follow the step-by-step instructions of the installation wizard. Select the language for the installation wizard. Specify the server location and consider that the protocol identifier “https” must be part of the server address and should be completed automatically by the <strong>cadis</strong> installation wizard.</p><h3 id="SaaSSystemIntegration-LaunchandAuthentication">Launch and Authentication</h3><p>Execute cadisCONTROL either by the Desktop Icon “cadisControl” or select and execute <strong>cadis</strong> client by the Windows Start button. The login dialog with the input for “Login Name”, “Password”, “Terminal ID” and “Language” appears:</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="400" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-13.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-13.png" loading="lazy"></span><h3 id="SaaSSystemIntegration-Uninstall">Uninstall</h3><p>There are different ways to uninstall cadisCONTROL:</p><ol start="1"><li><p>Select the cadisCONTROL by the Windows Start button, press and hold on the program and select Uninstall. The second possibility.</p></li></ol><ol start="2"><li><p>Select the Windows Start button, then select Preferences &gt; Apps &amp; Features. Select cadisCONTROL and select Uninstall.</p></li></ol><ol start="3"><li><p>Navigate via File Explorer to installation folder “C:\Users\[USERNAME]\cadis Control” and execute uninstaller.exe.</p></li></ol><h2 id="SaaSSystemIntegration-cadisSTUDIO">cadisSTUDIO</h2><p>cadisSTUDIO is the web-based part of cadisCONTROL which needs no distribution. You should use a Chromium-based web browser as up to date as possible. One of the most popular are: Google Chrome, Microsoft Edge. <strong>But don’t use Opera</strong>.</p><div class="table-wrap"><table data-layout="default" data-local-id="67e8b784-be6a-4ebe-aa9d-d892b7a8eec3" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>Type</p></td><td class="confluenceTd"><p>Browser</p></td><td class="confluenceTd"><p>Version</p></td></tr><tr><td class="confluenceTd"><p>Primary Browser</p></td><td class="confluenceTd"><p>Google Chrome</p></td><td class="confluenceTd"><p>71 or higher, Barcode Detection requires version 83 or higher!</p></td></tr><tr><td class="confluenceTd"><p>Supported Browser</p></td><td class="confluenceTd"><p>Microsoft Edge</p></td><td class="confluenceTd"><p>79 or higher</p></td></tr><tr><td class="confluenceTd"><p>Fallback Browsers</p></td><td class="confluenceTd"><p>Firefox</p></td><td class="confluenceTd"><p>95 or higher</p></td></tr><tr><td class="confluenceTd"><p>Not supported Browser</p></td><td class="confluenceTd"><p>Opera</p></td><td class="confluenceTd"><p>–</p></td></tr></tbody></table></div><h3 id="SaaSSystemIntegration-LaunchandAuthentication.1">Launch and Authentication</h3><ol start="1"><li><p>cadisSTUDIO is accessible via the embedded link on the splash screen of cadisCONTROL: <a class="external-link" href="https://customername.cadis.cloud/" rel="nofollow"><u>https://customername.cadis.cloud/</u></a></p></li></ol><p>It is not necessary to attach the URL extension /cadisSTUDIO.</p><ol start="2"><li><p>Login with User Name, Password and OrgUnit (depot or branch)</p></li></ol><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="200" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/word-image-6992-7-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/word-image-6992-7-1.png" loading="lazy"></span><h2 id="SaaSSystemIntegration-RESTAPIdataexchange">REST API data exchange</h2><p>Data is exchanged with the customer’s host system via XML-encoded data (ESB message type), which from release R4.18 can be exchanged via the encrypted data exchange via the REST interface.</p><p>Incoming messages from the host system to cadisSERVER are called ESB imports. Outgoing messages in the direction to the host system are called ESB exports.</p><p>For imports, the host system requires the URL to Cadis and a security API-token (JWT). The API token is made available to the customer and can also be revoked at any time in the event of a compromise. The access rights for the API-token are assigned on a fine-grained basis.</p><p>Exports are configured by Cadis Info Servlet, whereby the recipient URL of the host system and the respective message type are required. An API-token can be used optionally.</p><p>Available messages types for ESB imports and ESB exports are described in chapter 4.</p><h3 id="SaaSSystemIntegration-RESTAPIService">REST API Service</h3><p>POST requests are processed synchronously. cadisSERVER only responds when the message was processed completely. The HTTPS termination is either done by load balancer or by the Nginx Reverse Proxy.</p><p>ESB reads the following request headers:</p><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="90dbfb1a-32e4-4731-a8b3-57f439fd11d3" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>HTTP request method</p></td><td class="confluenceTd"><p>POST</p></td></tr><tr><td class="confluenceTd"><p>HTTP URL</p></td><td class="confluenceTd"><p>https://&lt;host&gt;/esb-rest/dispatch/&lt;Message-Type&gt;</p><p>Known message types can be obtained from /info/view/esbrouting (of the target system).</p></td></tr><tr><td class="confluenceTd"><p>HTTP header fields</p></td><td class="confluenceTd"><p>Mandatory:</p><p>Authorization Bearer: &lt;API-TOKEN&gt;Content-Type: application/octet-streamX-CADIS-ESB-&lt;whatever&gt;: Add property &lt;whatever&gt; to the internal ESB Message structure.</p><p>Optional:</p><p>X-CADIS-ORGUNIT: &lt;VALUE&gt;</p><p>for monitoring/logging only (the branch-/depot-/site-ID for which the exchanged data applies)</p><p>X-CADIS-TRACKINGID: &lt;VALUE&gt;</p><p>for monitoring/logging only (for the sender, this can be a file name or a message counter), helpful for tracking events across system boundaries, max 128 chars</p></td></tr><tr><td class="confluenceTd"><p>HTTP message body</p></td><td class="confluenceTd"><p>XML payload conforming to the cadis XSD of the corresponding Message-Type</p></td></tr></tbody></table></div><h3 id="SaaSSystemIntegration-HTTPSStatuscodes">HTTPS Status codes</h3><p>The cadis error code is part of the response header: X-CADIS-ERROR-CODE and the error message is returned as text/plain.</p><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="7fabe0bf-139f-4995-87cd-427e656f82ec" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>Status Code</p></td><td class="confluenceTd"><p>Message</p></td><td class="confluenceTd"><p>Description</p></td></tr><tr><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>OK</p></td><td class="confluenceTd"><p>The request was successful.</p></td></tr><tr><td class="confluenceTd"><p>204</p></td><td class="confluenceTd"><p>No content</p></td><td class="confluenceTd"><p>The request was successful, but no content is returned.</p></td></tr><tr><td class="confluenceTd"><p>400</p></td><td class="confluenceTd"><p>Bad request</p></td><td class="confluenceTd"><p>Empty content or bad content based on:</p><p>CADIS-1700: SERVER_DATA_VALIDATION</p><p>CADIS-1711: SERVER_DATA_UNKNOWN_ORGUNIT</p><p>CADIS-1730: SERVER_DATA_INCORRECT_KEY</p></td></tr><tr><td class="confluenceTd"><p>401</p></td><td class="confluenceTd"><p>Unauthorized</p></td><td class="confluenceTd"><p>CADIS-1500 to CADIS-1599, not CADIS-1510</p></td></tr><tr><td class="confluenceTd"><p>403</p></td><td class="confluenceTd"><p>Forbidden</p></td><td class="confluenceTd"><p>Only at CADIS-1510: SERVER_FORBIDDEN, means access denied.</p></td></tr><tr><td class="confluenceTd"><p>404</p></td><td class="confluenceTd"><p>Not Found</p></td><td class="confluenceTd"><p>The resource was not found.</p></td></tr><tr><td class="confluenceTd"><p>500</p></td><td class="confluenceTd"><p>Internal Server Error</p></td><td class="confluenceTd"><p>All business exception will be interpret as an internal server error, but sometimes there are only not correct data send by client. This leads to status code 400.</p></td></tr><tr><td class="confluenceTd"><p>503</p></td><td class="confluenceTd"><p>Service Unavailable</p></td><td class="confluenceTd"><p>A Cadis infrastructure problem: CADIS-1200 to CADIS-1299</p></td></tr></tbody></table></div><p><strong>Addition technical info:</strong></p><p>The following example shows how to send a masterdata file (“vehicle-types.xml” which is defining truck-types) to a cadis system using the command line client curl:</p><p><code>$ curl -v -X POST -H “Content-Type: application/octet-stream” -H “Authorization: Bearer eyJ0eXAiOi……ovxArzvliTEHV648Hs” -d @vehicle-types.xml</code></p><h2 id="SaaSSystemIntegration-FileTransferoverSFTP">File Transfer over SFTP</h2><p>For file data exchange between <strong>cadis</strong> application and other TMS systems, an SFTP service is set up in AWS.</p><p>Note: SFTP is a chargeable service that is released for POC (proof of concept) environments only. It is not suitable for bulk data. Services like Logging, monitoring, and housekeeping are not supported.</p><p>All details about setting up a service in AWS can be found in the user guide <a class="external-link" data-card-appearance="inline" href="https://docs.aws.amazon.com/transfer/latest/userguide/create-server.html" rel="nofollow">https://docs.aws.amazon.com/transfer/latest/userguide/create-server.html</a>  at chapter “Creating a server”.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text, Screenshot, Diagramm, Reihe enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-screenshot-diagramm-reihe-en-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-screenshot-diagramm-reihe-en-1.png" loading="lazy"></span><p>Files can be exchanged between both communication partners via this service. The SFTP service is set up for each client (customer) individually by giving them a user account that is secured with the mechanisms of the SSH protocol.</p><p>The Secure Shell (SSH) File Transfer Protocol (SFTP) is a network protocol used for secure transfer of data over the internet. The protocol supports the full security and authentication functionality of SSH and allows to perform a range of operations on remote files.</p><p><strong>Policy Management</strong></p><p>The SFTP service is configured inside AWS with the specific security policies. This security policy specifies details for the encryption algorithm and data exchange. Clients must adhere to these specifications, i.e.: Restriction to a set of cryptographic algorithms:</p><p><strong>Cryptographic algorithms:</strong> TLS 1.2</p><p><strong>Security Policy: </strong>TransferSecurityPolicy-2020-06</p><p>TransferSecurityPolicy-2020-06 specifies the message authentication codes (MACs), the key exchanges (KEXs) and the cipher suites. AWS reserves the right to make changes. Therefore, this technical details on policy management should be compared with the original documentation found in the User Guide <a class="external-link" data-card-appearance="inline" href="https://docs.aws.amazon.com/transfer/latest/userguide/create-server.html" rel="nofollow">https://docs.aws.amazon.com/transfer/latest/userguide/create-server.html</a>  starting at chapter “Working with security policies”.</p><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="df3c6747-5416-47df-9c4e-cf6adf48bfd9" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>SSH Cipher</strong></p></td><td class="confluenceTd"><p><strong>Cipher suite</strong></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:chacha20-poly1305@openssh.com" rel="nofollow">chacha20-poly1305@openssh.com</a></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>aes128-ctr</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>aes192-ctr</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>aes256-ctr</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:aes128-gcm@openssh.co" rel="nofollow"><u>aes128-gcm@openssh.co</u></a>m</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:aes256-gcm@openssh.com" rel="nofollow"><u>aes256-gcm@openssh.com</u></a></p></td></tr><tr><td class="confluenceTd"><p><strong>SSH Kexs</strong></p></td><td class="confluenceTd"><p><strong>Key exchanges</strong></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>ecdh-sha2-nistp256</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>ecdh-sha2-nistp384</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>ecdh-sha2-nistp521</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>diffie-hellman-group-exchange-sha256</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>diffie-hellman-group16-sha512</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>diffie-hellman-group18-sha512</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>diffie-hellman-group14-sha256</p></td></tr><tr><td class="confluenceTd"><p><strong>SSH Macs</strong></p></td><td class="confluenceTd"><p><strong>Message authentication code</strong></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:umac-128-etm@openssh.com" rel="nofollow"><u>umac-128-etm@openssh.com</u></a></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:hmac-sha2-256-etm@openssh.com" rel="nofollow"><u>hmac-sha2-256-etm@openssh.com</u></a></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:hmac-sha2-512-etm@openssh.com" rel="nofollow"><u>hmac-sha2-512-etm@openssh.com</u></a></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:umac-128@openssh.com" rel="nofollow">umac-128@openssh.com</a></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>hmac-sha2-256</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>hmac-sha2-512</p></td></tr><tr><td class="confluenceTd"><p><strong>SSH Protocol Version</strong></p></td><td class="confluenceTd"><p><strong>Protocol version</strong></p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2</p></td></tr></tbody></table></div><p>On the client side, the following commands can be used to check whether details for the security policy TransferSecurityPolicy-2020-06 are met. Please match this with the data from the table.</p><p><strong>Check the client compliance</strong></p><p>The following commands query the actual settings security policy settings for cipher, kex and mac on the client side. From each group, one entry must match the entry from the table. If not, the TransferSecurityPolicy-2020-06 policy will not be supported.</p><p>Query supported protocol version:</p><p><code>$ ssh -Q protocol-version</code></p><p>Query supported cipher suites:</p><p><code>$ ssh -Q cipher</code></p><p>Query supported key exchanges:</p><p><code>$ ssh -Q kex</code></p><p>Query supported message authentication codes:</p><p><code>$ ssh -Q mac</code></p><h3 id="SaaSSystemIntegration-Keymanagement">Key management</h3><p>The SFTP service is managed by using authentication method, where usernames and SSH keys are stored within the service. The user’s public SSH key is uploaded to the server as a user’s property. This key is used by the service as part of a standard key-based authentication process. Each user can have multiple public SSH keys.</p><p><code>$ ssh-keygen -P “” -f sftp_rsa</code></p><p>The public key file may also be generated in the PEM (PEM public key) format:</p><p><code>$ ssh-keygen -P “” -m PEM -f sftp_rsa</code></p><p><em>sftp_rsa</em> is any file name that is generated for the private key and the public key <em>sftp_rsa.pub. </em>The content of the public key file is transferred to the persons responsible for the AWS service (<strong>CADIS GmbH</strong>). As a result, the public key is uploaded to the SFTP service. Once the SFTP username (<em><strong>sftp-user</strong></em>) has been negotiated with the client, the service can be set up by the persons responsible for the AWS service.</p><h3 id="SaaSSystemIntegration-ConnecttoSFTPservice">Connect to SFTP service</h3><p>Please ensure, that a the SFTP service uses a OpenSSH stack in Version 8. The SFTP service prints all version info to console with verbose level “-vvv”.</p><p>Once the public authentication is enabled, the SFTP service is reachable without requesting a password. Only the identity file (private key) is read during connection request.</p><p><code>$ sftp -i sftp_rsa sftp-user@sftp.cadis.cloud</code></p><h2 id="SaaSSystemIntegration-OpenIDconnectoverAzureAD">OpenID connect over Azure AD</h2><p>The prerequisite for using Azure AD and registrate your application is access to a mandate ID, which represents your organization. The next two chapters describe how to register the <strong>cadis</strong> application in the Azure AD and how to configure <strong>cadis.</strong></p><h3 id="SaaSSystemIntegration-Registeranapplication">Register an application</h3><p>If not present an application is needed for <strong>cadis</strong> inside the Azure AD.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-6.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-6.png" loading="lazy"></span><p>Open „App registrations“ and create an application with „New registration“.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-7.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/04/image-7.png" loading="lazy"></span><p>You need a unique name for the application. In this example the application is called CadisApplication. After you set the name create the application with click on register. The application can be find in „Owned applications“ tab. If you already have a registered application it is possible that you can find it in the “All applications” tab.</p><h3 id="SaaSSystemIntegration-Configuration.1">Configuration</h3><p>To integrate <strong>cadis</strong> in Azure AD and allow access, a client secret must be generated, and redirect URLs must be defined.</p><h3 id="SaaSSystemIntegration-ClientSecret">Client Secret</h3><p>The client secret is required by <strong>cadis</strong> configuration. It is generated by “Certificates &amp; secrets” menu.</p><p>Hint: Copy and save the client secret string immediately, because the string is only visible at this moment.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-18.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-18.png" loading="lazy"></span><p><strong>Redirect URL for cadisSTUDIO</strong></p><p>Next the redirect URL for cadisSTUDIO and cadisAPP must be configured. Navigate to menu Authentication and click on Web inside Configure platforms submenu.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-19.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-19.png" loading="lazy"></span><p>This Redirect URL is used by the property webRedirectUrl of the <strong>cadis</strong> configuration. The network protocol of the URL must be HTTPS. The server address is the hostname of the <strong>cadis</strong> installation, respectively the address of the load balancer.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Une image contenant texte&#xa;&#xa;Description générée automatiquement" width="200" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/une-image-contenant-texte-description-generee-aut-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/une-image-contenant-texte-description-generee-aut-1.png" loading="lazy"></span><p>Example: “webRedirectUrl”: <a class="external-link" href="https://customer.test.cadis.cloud/cadisSTUDIO" rel="nofollow">https://customer.test.cadis.cloud/cadisSTUDIO</a></p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="400" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-20.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-20.png" loading="lazy"></span><p><strong>Redirect URL for Android APP</strong></p><p>To generate the Redirect URL the package name and signature hash is needed.</p><ul><li><p>package name: <code>kam.android.cadis</code></p></li><li><p>signature hash: <code>cdtwgmnx9vt9+I3OBeX2sIPakNU=</code></p></li></ul><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" width="200" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/word-image-6992-23-1.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/word-image-6992-23-1.png" loading="lazy"></span><p>This Redirect URL is used by the property mobileRedirectUrl of the <strong>cadis</strong> configuration.</p><p>Should look like: <code>msauth://kam.android.cadis/cdtwgmnx9vt9+I3OBeX2sIPakNU=</code></p><h3 id="SaaSSystemIntegration-Createrole">Create role</h3><p>To add roles to the application, go to “App roles”, then “Create app role”. Important is the value of the Role.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-21.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-21.png" loading="lazy"></span><p>A role for <strong>cadis</strong> needs to be structured like:</p><p><code>&lt;prefix&gt;#&lt;role name&gt;#&lt;orgunit&gt;</code></p><p>e.g.: <code>CR#Driver#&lt;OrgUnit&gt;</code></p><p>e.g.: <code>CR#TerminalWorker#&lt;OrgUnit&gt;</code></p><p>e.g.: <code>CR#Dispatcher#&lt;OrgUnit&gt;</code></p><p>e.g.: <code>CR#Administrator</code></p><p>As default the &lt;prefix&gt; is set to “CR”, but can be changed in “cadis.security” configuration in field “alternativeLoginRolePrefix”. The prefix defined here must match to the configuration in cadis (“cadis.security” field “alternativeLoginRolePrefix”). If a user has a role for all orgUnits like an administrator, the #&lt;OrgUnit&gt; can be omitted.</p><p><strong>OrgUnit</strong></p><p>If a user has a role for all orgUnits like an administrator, the #&lt;OrgUnit&gt; can be omitted. It is the ID and not the name of the OrgUnit to be used, i.e., it can be the parent or children Orgunit:</p><p>to define a user for a depot, use the depotID</p><h3 id="SaaSSystemIntegration-Adduserwithroletotheapplication">Add user with role to the application</h3><p>To assign a user to the application and role to the user go to overview and select the application in by “Managed application in local directory” link.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-22.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-22.png" loading="lazy"></span><p>There you can add a user by “Users and groups” menu with “Add user/group”. Now you can add a user to application and assign a previously defined role.</p><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-left" alt="Ein Bild, das Text enthält.&#xa;&#xa;Automatisch generierte Beschreibung" width="800" src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-23.png" data-image-src="https://docs.cadis.cloud/wp-content/uploads/2024/03/ein-bild-das-text-enthalt-automatisch-generiert-23.png" loading="lazy"></span><h1 id="SaaSSystemIntegration-Appendix">Appendix</h1><h2 id="SaaSSystemIntegration-cadisMessageTypes">cadis Message Types</h2><p>The following table shows <strong>cadis</strong> Message Types associated with the nature of a message payload being received or sent by <strong>cadis</strong>. Please note that depending on the <strong>cadis</strong> version or system configuration, less, more or different Message Type IDs may exist.</p><p>The interfaces between cadisSERVER and GTP and the BI Mapping API is explicitly not described here. Furthermore, there are even project specific types, which are not part of this documentation.</p><h3 id="SaaSSystemIntegration-MessageImport">Message Import</h3><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="c9f3ce10-63d2-49d4-9444-7400f582c54a" class="confluenceTable"><tbody><tr><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Cadis Message Type</strong></p></th><th class="confluenceTh"><p><strong>Payload data structure</strong></p></th></tr><tr><td class="confluenceTd"><p>Various types of masterdata:</p><p>freight carriers, drivers, trucks, depots, product codes, routes, holidays, orgunits, relations, vehicles, vehicle types, products, dangerous goods, package types, payment methods, vehicle groups, etc.</p></td><td class="confluenceTd"><p><strong>MasterData</strong></p></td><td class="confluenceTd"><ul><li><p>all XSDs located in: cadisxml/MasterData</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Various types of customer data: Customers, customer masterdata and stop locations.</p></td><td class="confluenceTd"><p><strong>CustomerImport</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/MasterData/Customers/cTCustomers-3.0.xsd,</p></li><li><p>XML root element: CustomerMasterdata.</p></li><li><p>XSD: cadisxml/MasterData/Customers/cTStopLocations-1-0.xsd,</p></li><li><p>XML root element: cTStopLocations.</p></li><li><p>XSD: cadisxml/MasterData/Customers/CustomerMasterdata-1-0.xsd,</p></li><li><p>XML root element: CustomerMasterdata.</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Geographic Areas</p></td><td class="confluenceTd"><p><strong>GeographicAreas</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/MasterData/GeographicAreas/ cTGeographicAreas-1-0.xsd</p></li><li><p>XML root element: cTGeographicAreas</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Transports</p></td><td class="confluenceTd"><p><strong>YardTraffic</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/YM/V1.0/cTYardManager-1-1.xsd</p></li><li><p>XML root element: cTYardTraffic</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Goods which shall be handled by a depot (shipments, packages, pickups, master pallets) for at least one of the following: collection, unloading, loading, delivery)</p></td><td class="confluenceTd"><p><strong>ItemsImport</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/DepotItem/V2.0/cTDepotItem-2-0.xsd</p></li><li><p>XML root element: cTExpectedDepotItems</p></li></ul></td></tr><tr><td class="confluenceTd"><p>loading list planned by a host for last mile or line haul trip</p></td><td class="confluenceTd"><p><strong>TransportImport_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTLoading-2-0.xsd</p></li><li><p>XML root element: cTOutboundTransport</p></li></ul></td></tr><tr><td class="confluenceTd"><p>freight manifest for unloading at depot/hub</p></td><td class="confluenceTd"><p>U<strong>nloadingImport_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTUnloading-2-0.xsd</p></li><li><p>XML root element: cTUnloadingList</p></li></ul></td></tr><tr><td class="confluenceTd"><p>shipments to be delivered, deprecated, use ItemsImport instead</p></td><td class="confluenceTd"><p><strong>CTShipments</strong></p></td><td class="confluenceTd"><ul><li><p>XSDs: cadisxml/PUD/shipment/cTShipments-1-15.xsd,</p></li><li><p>XSDs: cadisxml/PUD/shipment/cTCancelShipments-1-0.xsd</p></li><li><p>XML root elements: cTShipments, cTCancelShipments</p></li></ul></td></tr><tr><td class="confluenceTd"><p>route manifests for last mile trip, for service cut PUD-Drive only</p></td><td class="confluenceTd"><p><strong>CTTour</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/tour/cTTour-1-15.xsd</p></li><li><p>XML root element: cTTour</p></li></ul></td></tr></tbody></table></div><h3 id="SaaSSystemIntegration-MessageExport">Message Export</h3><p>For HTTPS communication with a remote peer, the remote peer must use a certificate that meets the current security requirements of Java 11 or the current browser. Currently, a standard SSL DV certificate with SHA2 and 2048-bit encryption is sufficient. However, the requirements may change over the years as newer Java versions and browsers require stronger encryption.</p><p>Care must also be taken to ensure that the domain name matches the certificate exactly. Multiple subdomains may need to be included in the certificate.</p><p>Certificates can be purchased from many different providers. These differ partially strongly in their prices. With a default java installation, the list of entries can be output with the following command:</p><p><code>$ keytool -list -cacerts -storepass changeit</code></p><p>Furthermore, a free certificate from “Let’s Encrypt” (<a class="external-link" data-card-appearance="inline" href="https://letsencrypt.org/de/" rel="nofollow">https://letsencrypt.org/de/</a>) can be used. It is important to note here, however, that these certificates are only valid for 90 days and should be automatically exchanged within the last 30 days.</p><div class="table-wrap"><table data-table-width="760" data-layout="align-start" data-local-id="8d6df22f-1ccd-4393-8dd9-17e45cae9df1" class="confluenceTable"><tbody><tr><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Cadis Message Type</strong></p></th><th class="confluenceTh"><p><strong>Payload data structure</strong></p></th></tr><tr><td class="confluenceTd"><p>list event for an inventory</p></td><td class="confluenceTd"><p><strong>CTInventoryStatus_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTInventory-2-0.xsd</p></li><li><p>XML root element: cTInventoryStatus</p></li></ul></td></tr><tr><td class="confluenceTd"><p>list event for result of loading</p></td><td class="confluenceTd"><p><strong>CTLoadingStatus_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTLoading-2-0.xsd</p></li><li><p>XML root element: cTLoadingStatus</p></li></ul></td></tr><tr><td class="confluenceTd"><p>list event for result of unloading</p></td><td class="confluenceTd"><p><strong>CTUnloadingStatus_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTUnloading-2-0.xsd</p></li><li><p>XML root element: cTUnloadingStatus</p></li></ul></td></tr><tr><td class="confluenceTd"><p>multi-purpose status: single order event or list event for Loading, Unloading, Inventory, Stop</p></td><td class="confluenceTd"><p><strong>CTStatus_2_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/TH/V2.0/cTStatus-2-0.xsd</p></li><li><p>XML root elements: cTStatus</p></li></ul></td></tr><tr><td class="confluenceTd"><p>event for a single shipment within the depot</p></td><td class="confluenceTd"><p><strong>CTItemStatus_1_5</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/DepotItem/V1.5/cTItemStatus-1-5.xsd</p></li><li><p>XML root element: cTItemStatus</p></li></ul></td></tr><tr><td class="confluenceTd"><p>delivery event with position, photos and comments</p></td><td class="confluenceTd"><p><strong>CTPUDDeliveryStatusExport_1_20</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/orderstate/cTOrderstate-1-20.xsd</p></li><li><p>XML root element: cTOrderState</p></li></ul></td></tr><tr><td class="confluenceTd"><p>collection event with position, photos and comments</p></td><td class="confluenceTd"><p><strong>CTPUDPickupStatusExport_1_20</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/orderstate/cTOrderstate-1-20.xsd</p></li><li><p>XML root element: cTOrderState</p></li></ul></td></tr><tr><td class="confluenceTd"><p>pictures captured during delivery/collection, e.g. damages</p></td><td class="confluenceTd"><p><strong>CTOrderPicturesExport_1_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/pictures/cTOrderPictures_1_0.xsd</p></li><li><p>XML root element: cTOrderPictures</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Swap body status with position, photos and comments</p></td><td class="confluenceTd"><p><strong>CTPUDPDFSwapBodiesDamagesExport</strong></p></td><td class="confluenceTd"><p>binary data</p></td></tr><tr><td class="confluenceTd"><p>electronic proof of delivery document with signature</p></td><td class="confluenceTd"><p><strong>CTPUDPDFProofOfDeliveryExport</strong></p></td><td class="confluenceTd"><p>binary data</p></td></tr><tr><td class="confluenceTd"><p>event for a loading equipment exchange</p></td><td class="confluenceTd"><p><strong>CTLademittelmeldungExport_1_0</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/LoadingEquipmentAccounting</p></li></ul><p>/ctLoadingEquipmentAccounting-1-0.xsd</p><ul><li><p>XML root element: cTLoadingEquipmentAccounting</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Swap body status with position, photos and comments</p></td><td class="confluenceTd"><p><strong>CTPUDSwapBodiesExport_1_1</strong></p></td><td class="confluenceTd"><ul><li><p>XSD: cadisxml/PUD/swapbodies/cTSwapBodyTracking-1-1.xsd</p></li><li><p>XML root element: cTSwapBodyTracking</p></li></ul></td></tr></tbody></table></div><p />
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 13, 2025 09:52</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
